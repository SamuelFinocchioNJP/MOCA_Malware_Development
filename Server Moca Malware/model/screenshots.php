<?php
    if(!defined('__ROOT__'))
        define ('__ROOT__', $_SERVER['DOCUMENT_ROOT']);

    define ('__PIC__', __ROOT__ . '/moca/data/screenshots/'. 'screenshot' . '.png');
    define ('__B64__', 'data:image/png;base64,');
    
    function setScreenshot($base64_picture)
    {
        if(strpos(__B64__, $base64_picture))
            $base64_picture = str_replace(__B64__, '', $base64_picture);
            
        $base64_picture = str_replace(' ', '+', $base64_picture);
        $row_picture = base64_decode($base64_picture);
        
        file_put_contents(__PIC__, $row_picture);
    }
    
    function getScreenshot()
    {
        $row_picture = file_get_contents(__PIC__, true);
        return __B64__ . $row_picture;
    }
    
    function getScreenshotPath()
    {
        return __PIC__;
    }
?>